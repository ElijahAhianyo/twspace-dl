# Twspace Dl Login

[_Documentation generated by Documatic_](https://www.documatic.com)

<!---Documatic-section-Codebase Structure-start--->
## Codebase Structure

<!---Documatic-block-system_architecture-start--->
```mermaid
None
```
<!---Documatic-block-system_architecture-end--->

# #
<!---Documatic-section-Codebase Structure-end--->

<!---Documatic-section-twspace_dl.login.is_expired-start--->
## twspace_dl.login.is_expired

<!---Documatic-section-is_expired-start--->
<!---Documatic-block-twspace_dl.login.is_expired-start--->
<details>
	<summary><code>twspace_dl.login.is_expired</code> code snippet</summary>

```python
def is_expired(filename: str) -> bool:
    timestamp = re.findall('\\d{10}(?=\\sauth_token\\s)', open(filename, 'r', encoding='utf-8').read())[0]
    date = datetime.fromtimestamp(float(timestamp))
    return date < datetime.now()
```
</details>
<!---Documatic-block-twspace_dl.login.is_expired-end--->
<!---Documatic-section-is_expired-end--->

# #
<!---Documatic-section-twspace_dl.login.is_expired-end--->

<!---Documatic-section-twspace_dl.login.load_from_file-start--->
## twspace_dl.login.load_from_file

<!---Documatic-section-load_from_file-start--->
<!---Documatic-block-twspace_dl.login.load_from_file-start--->
<details>
	<summary><code>twspace_dl.login.load_from_file</code> code snippet</summary>

```python
def load_from_file(filename: str) -> str:
    try:
        token = re.findall('(?<=auth_token\\s)\\w{40}', open(filename, 'r', encoding='utf-8').read())[0]
    except IndexError as err:
        raise ValueError('Cookie file does not have auth_token.\nPlease check if you were connected when creating it') from err
    return token
```
</details>
<!---Documatic-block-twspace_dl.login.load_from_file-end--->
<!---Documatic-section-load_from_file-end--->

# #
<!---Documatic-section-twspace_dl.login.load_from_file-end--->

<!---Documatic-section-twspace_dl.login.write_to_file-start--->
## twspace_dl.login.write_to_file

<!---Documatic-section-write_to_file-start--->
<!---Documatic-block-twspace_dl.login.write_to_file-start--->
<details>
	<summary><code>twspace_dl.login.write_to_file</code> code snippet</summary>

```python
def write_to_file(auth_token: str, filename: str) -> None:
    delta = timedelta(seconds=34214400)
    expiry_date = datetime.now() + delta
    timestamp = int(expiry_date.timestamp())
    with open(filename, 'w', encoding='utf-8') as cookie_file:
        cookie_file.write(f'{timestamp}\tauth_token\t{auth_token}')
```
</details>
<!---Documatic-block-twspace_dl.login.write_to_file-end--->
<!---Documatic-section-write_to_file-end--->

# #
<!---Documatic-section-twspace_dl.login.write_to_file-end--->

[_Documentation generated by Documatic_](https://www.documatic.com)